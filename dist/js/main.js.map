{"version":3,"file":"js/main.js","mappings":"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","sources":["webpack:///./src/modules/postData.js","webpack:///./src/modules/showNotice.js","webpack:///./src/modules/modal.js","webpack:///./src/modules/getData.js","webpack:///./src/modules/helpers.js","webpack:///./src/modules/renderGoods.js","webpack:///./src/modules/filters.js","webpack:///./src/modules/cart.js","webpack:///./src/modules/renderCart.js","webpack:///./src/modules/renderOrder.js","webpack:///./src/index.js","webpack:///./src/modules/load.js","webpack:///./src/modules/search.js","webpack:///./src/modules/catalog.js","webpack:///./src/modules/filter.js"],"sourcesContent":["const postData = (cart) => {\r\n  return fetch('https://jsonplaceholder.typicode.com/posts', {\r\n    method: 'POST',\r\n    body: JSON.stringify(cart),\r\n    headers: {\r\n      'Content-type': 'application/json; charset=UTF-8',\r\n    },\r\n  }).then((response) => {\r\n      return response.json()\r\n    })\r\n};\r\n\r\nexport default postData;\r\n","const showNotice = (text) => {\r\n  console.log(text);\r\n  const notice = document.getElementById('notice');\r\n  notice.textContent = text;\r\n  notice.classList.remove('d-none');\r\n  setTimeout(()=>{\r\n    notice.classList.add('d-none');\r\n  }, 2000)\r\n};\r\n\r\nexport default showNotice;","export const openModal = (id) => {\r\n  const modalTemplate = document.querySelector(id);\r\n  \r\n  modalTemplate.addEventListener('click', (event) => {\r\n    if (event.target == event.currentTarget || event.target.className.indexOf('modal-close') != -1) {\r\n      closeModal(id);\r\n    }\r\n  });\r\n  modalTemplate.style.display = 'flex';\r\n  document.body.classList.add('overflow-hidden');\r\n};\r\n\r\nexport const closeModal = (id) => {\r\n  const modalTemplate = document.querySelector(id);\r\n\r\n  modalTemplate.style.display = '';\r\n  document.body.classList.remove('overflow-hidden');\r\n};\r\n","const getData = () => {\r\n  return fetch('https://test-ozon-92652-default-rtdb.europe-west1.firebasedatabase.app/goods.json')\r\n    .then((response) => {\r\n      return response.json()\r\n    })\r\n};\r\n\r\nexport default getData;\r\n","export const debounce = (func, ms = 300) => {\r\n  let timer;\r\n\r\n  return(...args) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {func.apply(this, args)}, ms);\r\n  }\r\n};\r\n\r\nexport const endingCounts = (num) => {\r\n  let lastNum = Number(String(num).slice(-1));\r\n  if (lastNum === 2 || lastNum === 2 || lastNum === 3 || lastNum === 4) {\r\n    return 'a';\r\n  } else if (lastNum === 1) {\r\n    return '';\r\n  } else {\r\n    return '–æ–≤';\r\n  }\r\n};\r\n","import { endingCounts } from \"./helpers\";\r\n\r\nconst renderGoods = (goods) => {\r\n  localStorage.setItem('goods', JSON.stringify(goods));\r\n  const getCurrentCategory = () => {\r\n    return localStorage.getItem('currentCategory') ?\r\n      localStorage.getItem('currentCategory') :\r\n      '';\r\n  };\r\n  let category = getCurrentCategory();\r\n\r\n  const goodsInfo = document.querySelector('.goods-info');\r\n\r\n  goodsInfo.innerHTML = '';\r\n\r\n  goodsInfo.insertAdjacentHTML('beforeend', `\r\n      ${category ? `<p class=\"h3 my-3\">${category}</p>`: ''}\r\n      ${goods.length ? `<p class=\"mb-3\">${goods.length} —Ç–æ–≤–∞—Ä${endingCounts(goods.length)}</p>` : ''}\r\n`);\r\n\r\n  const goodsWrapper = document.querySelector('.goods');\r\n\r\n  goodsWrapper.innerHTML = '';\r\n\r\n  if (goods.length === 0) {\r\n    goodsWrapper.insertAdjacentHTML('beforeend', `\r\n      <div class=\"\">\r\n        –ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\r\n      </div>\r\n    `);\r\n  } else {\r\n    goods.forEach((goodsItem) => {\r\n      goodsWrapper.insertAdjacentHTML('beforeend', `\r\n        <div class=\"col-12 col-md-6 col-lg-4 col-xl-3\">\r\n          <div class=\"card\" data-key=\"${goodsItem.id}\">\r\n          ${goodsItem.sale ? '<div class=\"card-sale\">üî•Hot Saleüî•</div>' : ''}\r\n            <div class=\"card-img-wrapper\">\r\n              <span class=\"card-img-top\"\r\n                style=\"background-image: url('${goodsItem.img}')\"></span>\r\n            </div>\r\n            <div class=\"card-body justify-content-between\">\r\n              <div class=\"card-price\">${goodsItem.price} ‚ÇΩ</div>\r\n              <h5 class=\"card-title\">${goodsItem.title}</h5>\r\n              <button class=\"btn btn-primary\">–í –∫–æ—Ä–∑–∏–Ω—É</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  } \r\n};\r\n\r\nexport default renderGoods;","export const searchFilter = (items, value) => {\r\n  return items.filter((item) => item.title.toLowerCase().includes(value.toLowerCase()));\r\n};\r\n\r\nexport const categoryFilter = (items, value) => {\r\n  return items.filter((item) => value ?  item.category === value : true);\r\n};\r\n\r\nexport const priceFilter = (items, min, max) => {\r\n  if (max === '') max = Infinity;\r\n  return items.filter((item) => {\r\n    return item.price >= min && item.price <= max;\r\n  });\r\n};\r\n\r\nexport const saleFilter = (items, isSale) => {\r\n  return items.filter((item) => {\r\n    return isSale ? item.sale : true;\r\n  });\r\n};\r\n\r\nexport const clearFilter = () => {\r\n  const filterInputs = document.querySelectorAll('.filter input');\r\n  const saleMark = document.querySelector('.filter-check_checkmark');\r\n\r\n  filterInputs.forEach((input) => {\r\n    if (input.type === 'checkbox') input.checked = false;\r\n      else input.value = '';\r\n  });\r\n  saleMark.classList.remove('checked');\r\n}","import postData from './postData';\r\nimport showNotice from './showNotice';\r\nimport renderCart from './renderCart';\r\nimport {openModal, closeModal} from './modal';\r\nimport renderOrder from './renderOrder';\r\n\r\nconst cart = () => {\r\n  const cartBtn = document.getElementById('cart');\r\n  const cartCounter = cartBtn.querySelector('.counter');\r\n\r\n  const cartModal = document.querySelector('.cart');\r\n  const cartTotal = cartModal.querySelector('.cart-total > span');\r\n  const cartWrapper = cartModal.querySelector('.cart-wrapper');\r\n  const cartSendBtn = cartModal.querySelector('.cart-confirm');\r\n\r\n  const goodsWrapper = document.querySelector('.goods');\r\n  const orderSendBtn = document.querySelector('.order-confirm');\r\n\r\n  const getCartItems = () => {\r\n    return localStorage.getItem('cart') ?\r\n      JSON.parse(localStorage.getItem('cart')) :\r\n      [];\r\n  };\r\n\r\n  const cartRender = (cartArray) => {\r\n    renderCart(cartArray);\r\n\r\n    cartTotal.textContent = cartArray.reduce((sum, goodItem) => {\r\n      return sum + goodItem.price;\r\n    }, 0);\r\n  };\r\n\r\n  const changeTotalCounter = () => {\r\n    const cartArray = getCartItems();\r\n    cartCounter.textContent = cartArray.length;\r\n  };\r\n  changeTotalCounter();\r\n\r\n  const openCart = () => {\r\n    const cartArray = getCartItems();\r\n\r\n    cartModal.style.display = 'flex';\r\n    document.body.classList.add('overflow-hidden');\r\n    cartRender(cartArray);\r\n  };\r\n\r\n  const closeCart = () => {\r\n    cartModal.style.display = '';\r\n    document.body.classList.remove('overflow-hidden');\r\n  };\r\n\r\n  const addToCart = (event) => {\r\n    const card = event.target.closest('.card');\r\n    const key = card.dataset.key;\r\n    const goods = JSON.parse(localStorage.getItem('goods'));\r\n    const cartArray = getCartItems();\r\n\r\n    const goodItem = goods.find((item) => {\r\n      return item.id === +key;\r\n    })\r\n\r\n    if (goodItem) {\r\n      cartArray.push(goodItem);\r\n      localStorage.setItem('cart', JSON.stringify(cartArray));\r\n      changeTotalCounter();\r\n      showNotice(`${goodItem.title} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É`);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (event) => {\r\n    const card = event.target.closest('.card');\r\n    const key = card.dataset.key;\r\n    const cartArray = getCartItems();\r\n    const index = cartArray.findIndex((item) => {\r\n      return item.id === +key;\r\n    });\r\n\r\n    showNotice(`${cartArray[index].title} —É–¥–∞–ª—ë–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã`);\r\n    cartArray.splice(index, 1);\r\n    \r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n    \r\n    changeTotalCounter();\r\n    cartRender(cartArray);\r\n  };\r\n\r\n  cartBtn.addEventListener('click', openCart);\r\n  cartModal.addEventListener('click', (event) => {\r\n    if (event.target == event.currentTarget || event.target.className.indexOf('cart-close') != -1) {\r\n      closeCart();\r\n    }\r\n  })\r\n\r\n  goodsWrapper.addEventListener('click', (event) => {\r\n    if (event.target.classList.contains('btn-primary')) {\r\n      addToCart(event);\r\n    }\r\n  });\r\n\r\n  cartWrapper.addEventListener('click', (event) => {\r\n    if (event.target.classList.contains('btn-delete')) {\r\n      removeFromCart(event);\r\n    }\r\n  });\r\n\r\n  cartSendBtn.addEventListener('click', () => {\r\n    const cartArray = getCartItems();\r\n    if (cartArray.length) {\r\n      closeModal('.cart');\r\n      openModal('#modal--confirm');\r\n    }\r\n  });\r\n  orderSendBtn.addEventListener('click', () => {\r\n    closeModal('#modal--confirm');\r\n    const cartArray = getCartItems();\r\n    renderOrder(cartArray);\r\n    if (cartArray.length) {\r\n      postData(cartArray).then(() => {\r\n        openModal('#modal--order');\r\n        localStorage.removeItem('cart');\r\n        cartRender(getCartItems());\r\n        changeTotalCounter();\r\n        showNotice('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ jsonplaceholder');\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nexport default cart;\r\n","const renderCart = (goods) => {\r\n  const cartWrapper = document.querySelector('.cart-wrapper');\r\n\r\n  cartWrapper.innerHTML = '';\r\n\r\n  if (goods.length === 0) {\r\n    cartWrapper.insertAdjacentHTML('beforeend', `\r\n      <div id=\"cart-empty\">\r\n        –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫–∞ –ø—É—Å—Ç–∞\r\n      </div>\r\n    `);\r\n  } else {\r\n    goods.forEach((goodsItem) => {\r\n      cartWrapper.insertAdjacentHTML('beforeend', `\r\n        <div class=\"card\" data-key=\"${goodsItem.id}\">\r\n          ${goodsItem.sale ? '<div class=\"card-sale\">üî•Hot Saleüî•</div>' : ''}\r\n          <div class=\"card-img-wrapper\">\r\n            <span class=\"card-img-top\"\r\n              style=\"background-image: url('${goodsItem.img}')\"></span>\r\n          </div>\r\n          <div class=\"card-body justify-content-between\">\r\n            <div class=\"card-price\">${goodsItem.price} ‚ÇΩ</div>\r\n            <h5 class=\"card-title\">${goodsItem.title}</h5>\r\n            <button class=\"btn btn-primary btn-delete\">–£–¥–∞–ª–∏—Ç—å</button>\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  }\r\n};\r\n\r\nexport default renderCart;","const renderOrder = (goods) => {  \r\n  const dataWrapper = document.querySelector('.order-data');\r\n\r\n  dataWrapper.innerHTML = '';\r\n\r\n  if (goods.length) {\r\n    goods.forEach((goodsItem) => {\r\n      dataWrapper.insertAdjacentHTML('beforeend', `\r\n        <div class=\"card\" data-key=\"${goodsItem.id}\">\r\n          ${goodsItem.sale ? '<div class=\"card-sale\">üî•Hot Saleüî•</div>' : ''}\r\n          <div class=\"card-img-wrapper\">\r\n            <span class=\"card-img-top\"\r\n              style=\"background-image: url('${goodsItem.img}')\"></span>\r\n          </div>\r\n          <div class=\"card-body justify-content-between\">\r\n            <div class=\"card-price\">${goodsItem.price} ‚ÇΩ</div>\r\n            <h5 class=\"card-title\">${goodsItem.title}</h5>\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  }\r\n};\r\n\r\nexport default renderOrder;","import cart from './modules/cart';\r\nimport load from './modules/load';\r\nimport search from './modules/search';\r\nimport catalog from './modules/catalog';\r\nimport filter from './modules/filter';\r\n\r\nimport './scss/style.scss';\r\nimport 'animate.css';\r\n\r\ncart();\r\nload();\r\nsearch();\r\ncatalog();\r\nfilter();","import getData from './getData';\r\nimport showNotice from './showNotice';\r\nimport renderGoods from './renderGoods';\r\n\r\nconst load = () => {\r\n  getData().then((data) => {\r\n    renderGoods(data);\r\n    showNotice('–¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã');\r\n  });\r\n};\r\n\r\nexport default load;\r\n","import getData from './getData';\r\nimport showNotice from './showNotice';\r\nimport renderGoods from './renderGoods';\r\nimport { searchFilter, clearFilter, categoryFilter } from './filters';\r\nimport { debounce } from './helpers';\r\n\r\nconst search = () => {\r\n  const searchInput = document.querySelector('.search-wrapper_input');\r\n  const getCurrentCategory = () => {\r\n    return localStorage.getItem('currentCategory') ?\r\n      localStorage.getItem('currentCategory') :\r\n      '';\r\n  };\r\n  \r\n  const debounceSearch = debounce((event) => {\r\n    let currentCategory = getCurrentCategory();\r\n    getData().then((data) => {\r\n      renderGoods(searchFilter(categoryFilter(data, currentCategory), event.target.value));\r\n      showNotice('–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã');\r\n      clearFilter();\r\n    });\r\n  });\r\n  searchInput.addEventListener('input', debounceSearch);\r\n\r\n}\r\n\r\nexport default search;","import getData from './getData';\r\nimport showNotice from './showNotice';\r\nimport renderGoods from './renderGoods';\r\nimport {categoryFilter, clearFilter} from './filters';\r\n\r\nconst catalog = () => {\r\n  const btnCatalog = document.querySelector('.catalog-button');\r\n  const catalogModal = document.querySelector('.catalog');\r\n  const searchInput = document.querySelector('.search-wrapper_input');\r\n  \r\n  let isOpen = false;\r\n  localStorage.removeItem('currentCategory');\r\n\r\n  const toggleModal = () => {\r\n    isOpen = !isOpen;\r\n    if (isOpen) {\r\n      catalogModal.style.display = 'block';\r\n    } else {\r\n      catalogModal.style.display = '';\r\n    }\r\n  };\r\n\r\n  btnCatalog.addEventListener('click', () => toggleModal());\r\n\r\n  catalogModal.addEventListener('click', (event) => {\r\n    if (event.target.tagName == 'LI') {\r\n      let currentCategory = event.target.textContent;\r\n      localStorage.setItem('currentCategory', currentCategory);\r\n      getData().then((data) => {\r\n        renderGoods(categoryFilter(data, currentCategory));\r\n        showNotice('–¢–æ–≤–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ '+currentCategory);\r\n        clearFilter();\r\n        searchInput.value = '';\r\n      });\r\n    }\r\n  });\r\n        \r\n  document.addEventListener('click', (event) => {\r\n    if (!btnCatalog.contains(event.target) && isOpen) {\r\n      toggleModal();\r\n    }\r\n  });\r\n};\r\n\r\nexport default catalog;","import getData from './getData';\r\nimport showNotice from './showNotice';\r\nimport renderGoods from './renderGoods';\r\nimport { priceFilter, saleFilter,searchFilter, categoryFilter } from './filters';\r\nimport { debounce } from './helpers';\r\n\r\nconst filter = () => {\r\n  const filter = document.querySelector('.filter');\r\n  const saleInput = filter.querySelector('#discount-checkbox');\r\n  const saleMark = filter.querySelector('.filter-check_checkmark');\r\n  const searchInput = document.querySelector('.search-wrapper_input');\r\n  let price = {\r\n    min: 0,\r\n    max: Infinity,\r\n  };\r\n  const getCurrentCategory = () => {\r\n    return localStorage.getItem('currentCategory') ?\r\n      localStorage.getItem('currentCategory') :\r\n      '';\r\n  };\r\n\r\n  filter.addEventListener('input', (event) => {\r\n    if (event.target.id === 'min') {\r\n      price.min = event.target.value;\r\n      changeFilter();\r\n      showNotice('–¢–æ–≤–∞—Ä—ã –ø–æ —Ü–µ–Ω–µ –æ—Ç: ' +price.min);\r\n    }\r\n    if (event.target.id === 'max') {\r\n      price.max = event.target.value;\r\n      changeFilter();\r\n      showNotice('–¢–æ–≤–∞—Ä—ã –ø–æ —Ü–µ–Ω–µ –¥–æ: ' +price.max);\r\n    }\r\n  });\r\n\r\n  saleInput.addEventListener('change', () => {\r\n    changeFilter();\r\n    if (saleInput.checked) {\r\n      showNotice('–¢–æ–≤–∞—Ä—ã —Ç–æ–ª—å–∫–æ –ø–æ –∞–∫—Ü–∏–∏');\r\n      saleMark.classList.add('checked');\r\n    } else {\r\n      showNotice('–¢–æ–≤–∞—Ä—ã –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –∞–∫—Ü–∏–∏');\r\n      saleMark.classList.remove('checked');\r\n    }\r\n  });\r\n\r\n  const changeFilter = debounce(() => {\r\n    getData().then((data) => {\r\n      let currentCategory = getCurrentCategory();\r\n      renderGoods(categoryFilter(priceFilter(saleFilter(searchFilter(data, searchInput.value), saleInput.checked), price.min, price.max), currentCategory));\r\n    });\r\n  });\r\n}\r\n\r\nexport default filter;"],"names":["text","console","log","notice","document","getElementById","textContent","classList","remove","setTimeout","add","openModal","id","modalTemplate","querySelector","addEventListener","event","target","currentTarget","className","indexOf","closeModal","style","display","body","fetch","then","response","json","debounce","func","ms","timer","args","clearTimeout","apply","goods","localStorage","setItem","JSON","stringify","category","getItem","goodsInfo","innerHTML","insertAdjacentHTML","length","num","lastNum","Number","String","slice","endingCounts","goodsWrapper","forEach","goodsItem","sale","img","price","title","searchFilter","items","value","filter","item","toLowerCase","includes","categoryFilter","clearFilter","filterInputs","querySelectorAll","saleMark","input","type","checked","cartBtn","cartCounter","cartModal","cartTotal","cartWrapper","cartSendBtn","orderSendBtn","getCartItems","parse","cartRender","cartArray","reduce","sum","goodItem","changeTotalCounter","contains","key","closest","dataset","find","push","addToCart","index","findIndex","splice","removeFromCart","cart","dataWrapper","method","headers","removeItem","data","searchInput","debounceSearch","currentCategory","btnCatalog","catalogModal","isOpen","toggleModal","tagName","saleInput","min","max","Infinity","changeFilter","isSale","priceFilter"],"sourceRoot":""}